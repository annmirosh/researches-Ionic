<ion-view view-title="Settings">
    <ion-content>
        <div class="list">
            <label class="item item-input">
                <span class="input-label">Daily limit</span>
                <input type="tel" ng-model="settingsCtrl.settings.dailyLimit" ui-money-mask="2" required>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    Choose currency
                </div>
                <select
                        ng-model="settingsCtrl.settings.selectedCurrency"
                        ng-options="item as item.sign for item in settingsCtrl.settings.currencies">
                </select>
            </label>

            <ul class="list">
                <div class="item item-divider">
                    <form role="form" name="settingsCtrl.addProductForm">
                        <div class="row">
                            <div class="col">
                                <label class="item item-input">
                                    <input
                                            name="newProduct"
                                            type="text"
                                            ng-model="settingsCtrl.settings.product"
                                            placeholder="Product..."
                                            ng-required="true">
                                </label>
                            </div>
                            <div class="col">
                                <button class="button button-dark button-block vertical-margin-zero"
                                        ng-click="settingsCtrl.addProduct()"
                                        ng-disabled="!settingsCtrl.settings.product">Add new product
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                <li class="item item-button-right" ng-repeat="product in settingsCtrl.settings.defaultProducts">
                    {{product.name}}
                    <div class="buttons">
                        <button class="button button-assertive" ng-click="settingsCtrl.removeDefaultProduct($index)">
                            <i class="icon ion-close"></i>
                        </button>
                    </div>
                </li>
            </ul>

        </div>

    </ion-content>
    <ion-footer-bar>
        <button
                class="button button-dark button-block vertical-margin-zero"
                ng-click="settingsCtrl.save()"
                ng-disabled="!settingsCtrl.settings.dailyLimit">Save settings
        </button>
    </ion-footer-bar>
</ion-view>
